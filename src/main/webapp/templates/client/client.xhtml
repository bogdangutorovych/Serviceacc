<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <p:toolbar>
        <f:facet name="left">
            <p:commandButton id="btn_ok" value="Ok" update=":contentForm" icon="ui-icon-check"
                             actionListener="#{clientController.onOk()}"
                             action='#{navController.setMainContent("client/clientList")}'/>
            <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical"/></span>

            <p:commandButton id="btn_cancel" value="Cancel" update=":contentForm" icon="ui-icon-close"
                             actionListener="#{clientController.setSelectedClient(null)}"
                             action='#{navController.setMainContent("client/clientList")}' immediate="true"/>
        </f:facet>
    </p:toolbar>

    <br/>

    <h:panelGrid columns="2" cellpadding="5">
        <h:outputText for="id" value="ID:" style="font-weight:bold"/>
        <h:inputText id="id" value="#{clientController.selectedClient.id}" disabled="true"/>

        <h:outputLabel for="firstName" value="First name: " style="font-weight:bold"/>
        <p:inputText id="firstName" value="#{clientController.selectedClient.firstName}" required="true"/>

        <h:outputLabel for="lastName" value="Last name: " style="font-weight:bold"/>
        <p:inputText id="lastName" value="#{clientController.selectedClient.lastName}" required="true"/>
        
        <p:outputLabel for="birthday" value="Day of birth: " style="font-weight:bold"/>
        <p:calendar id="birthday" converter="localDateConverter" pattern="dd.MM.yyyy" showOn="button" 
            value="#{clientController.selectedClient.birthday}" />

        <p:outputLabel for="status" value="Status: " style="font-weight:bold"/>
        <p:selectOneMenu id="status" value="#{clientController.selectedClient.status}"
                         converter="omnifaces.SelectItemsConverter">
            <f:selectItem itemLabel="Select status..." noSelectionOption="true"/>
            <f:selectItems value="#{clientController.availableStatuses}"
                           var="s" itemLabel="#{s.title}" itemValue="#{s}"/>
        </p:selectOneMenu>

        <p:outputLabel for="level" value="Level: " style="font-weight:bold"/>
        <p:selectOneMenu id="level" value="#{clientController.selectedClient.level}"
                         converter="omnifaces.SelectItemsConverter">
            <f:selectItem itemLabel="Select level..." noSelectionOption="true"/>
            <f:selectItems value="#{clientController.availableLevels}"
                           var="l" itemLabel="#{l.title}" itemValue="#{l}"/>
        </p:selectOneMenu>

    </h:panelGrid>

    <p:dataTable id="clientInfoList" editable="true" emptyMessage="No items yet"
                 var="clientInfo" value="#{clientController.clientInformationList}">

        <f:facet name="header">Client Information</f:facet>

        <p:column>
           <p:outputLabel value="#{clientInfo.clientInformationType.title}" style="font-weight:bold" />
        </p:column>

        <p:column>
           <p:inputText value="#{clientInfo.content}" />
        </p:column>

    </p:dataTable>

</ui:composition>
